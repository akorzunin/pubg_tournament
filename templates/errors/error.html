<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–û—à–∏–±–∫–∞ {{ code }}</title>
    <style>
        
        .content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            max-width: 90%;
        }
        
        h1 {
            margin: 0;
            font-size: 2rem;
        }
        
        #error-video {
            width: 50vw;
            max-width: 600px;
            object-fit: cover;
            border-radius: 8px;
        }
        
    </style>
</head>
<body>
    <div class="content">
        <h1>–û—à–∏–±–∫–∞ {{ code }} ‚Äî –£–ø—Å. –ß—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å üò¢</h1>
        <video autoplay loop playsinline id="error-video">
            <source src="{{ url_for('static', filename='videos/error.mp4') }}" type="video/mp4">
        </video>
        <a href="/" class="button">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
    </div>

    <script>
        const video = document.getElementById('error-video');

        function tryPlayVideo() {
            video.muted = false;
            video.volume = 0.5;
            video.play().then(() => {
                console.log("–í–∏–¥–µ–æ —Å–æ –∑–≤—É–∫–æ–º –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è");
            }).catch(err => {
                console.warn("–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏:", err);
            });

            // —É–¥–∞–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏, —á—Ç–æ–±—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ
            document.removeEventListener('click', tryPlayVideo);
            document.removeEventListener('keydown', tryPlayVideo);
        }

        // –∂–¥—ë–º –ª—é–±–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
        document.addEventListener('click', tryPlayVideo);
        document.addEventListener('keydown', tryPlayVideo);
    </script>
</body>
</html>
